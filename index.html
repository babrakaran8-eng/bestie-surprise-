<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Bestie Surprise</title>
<style>
  body{
    margin:0;font-family:'Comic Sans MS',sans-serif;background:#ffeef8;
    display:flex;align-items:center;justify-content:center;min-height:100vh;
    flex-direction:column;text-align:center;overflow-x:hidden;
  }
  section{display:none;width:100%;max-width:600px;padding:20px;animation:fadeIn .7s ease;}
  section.active{display:block;}
  @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
  h1,h2,p{color:#ff4da6}
  button{
    background:#ff99cc;border:none;padding:10px 20px;margin:10px;font-size:16px;
    border-radius:8px;cursor:pointer;transition:.3s;
  }
  button:hover{background:#ff66a3;color:#fff}
  .reason{font-size:20px}

  /* Hearts Game */
  #heartCanvas{background:#ffeef8;width:100%;height:400px;border:1px solid #ff99cc}

  /* Plane area (world map background kept; plane is emoji) */
  #planeContainer{
    position:relative;width:100%;height:300px;
    background:url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/World_map_blank_without_borders.svg/1024px-World_map_blank_without_borders.svg.png')
      no-repeat center/cover;
    overflow:hidden;border:1px solid #ff99cc;border-radius:12px;
  }
  #planeEmoji{
    position:absolute;left:8%;top:65%;
    font-size:40px;cursor:pointer;user-select:none;touch-action:manipulation;
  }
  /* We set transition from JS only when the flight begins */
  .flag{position:absolute;font-size:24px}
  .flag.india{left:5%;top:70%}
  .flag.usa{right:5%;top:40%}
  .marker-label{
    position:absolute;background:rgba(255,238,248,.85);padding:4px 8px;border-radius:8px;
    font-size:14px;left:6%;top:78%
  }
  .marker-label.usa{left:auto;right:6%;top:48%}

  .cry{font-size:40px;animation:shake .5s infinite alternate}
  @keyframes shake{from{transform:translateY(0)}to{transform:translateY(-10px)}}

  /* Heart rain */
  .floating-heart{position:fixed;font-size:24px;animation:fall 2s linear forwards}
  @keyframes fall{to{transform:translateY(100vh);opacity:0}}
</style>
</head>
<body>

<!-- PAGE 1 -->
<section id="page1" class="active">
  <h1>🌸 Hey Bestieee! 🌸</h1>
  <p>Before you go inside this surprise, I need to warn you 👀 –<br>
    ⚠️ Side effects may include: nonstop smiling, random blushing, and the sudden urge to call me the best bestfriend ever 😎✨</p>
  <button onclick="goPage('page2')">👉 ENTER</button>
  <button onclick="alert('Arre ruk ja! Nind aa rahi hai kya? 😴\nTheek hai… par yaad rahe – kal uthke dekhna padega warna main hamesha baat nahi karunga 🥲')">👉 SLEEP</button>
</section>

<!-- PAGE 2 -->
<section id="page2">
  <h2>👋 Arre ruk jaa… Sabse pehle ye bata 😏</h2>
  <p>👉 Abhi dekhegi ya baad mai dekhegi?</p>
  <button onclick="goPage('reasons',0)">✅ Abhi dekh rahi hu (acha hua warna mai ro deta 😭😂)</button>
  <button onclick="alert('😴 Nhi abhi mujhe nind aa rhi hai (fir toh sapne mai hi dekh lena 🤭)')">😴 Nhi abhi</button>
</section>

<!-- REASONS -->
<section id="reasons">
  <div class="reason" id="reasonText"></div>
  <button onclick="prevReason()">⬅️ Back</button>
  <button onclick="nextReason()">➡️ Next</button>
</section>

<!-- Hearts Game -->
<section id="heartsGame">
  <h2>Catch the Hearts! 💖</h2>
  <canvas id="heartCanvas" width="300" height="400"></canvas>
  <p id="timer"></p>
</section>

<!-- Plane Game -->
<section id="planeGame">
  <h2>Plane Journey ✈️</h2>
  <p id="planeHint">Tap the plane to fly from <strong>🇮🇳 India</strong> to <strong>🇺🇸 USA</strong>!</p>
  <div id="planeContainer">
    <div class="flag india">🇮🇳</div>
    <div class="flag usa">🇺🇸</div>
    <div class="marker-label">India 🇮🇳</div>
    <div class="marker-label usa">USA 🇺🇸</div>
    <div id="planeEmoji" title="Tap to fly">✈️</div>
  </div>
  <div id="planeMsg" style="margin-top:10px;"></div>
</section>

<script>
  const reasons=[
    "1️⃣ Tu insta par mujra nahi karti 💃🚫<br>Teri ID = 0 post + no bio 🤯 matlab asli rare Pokémon hai tu 😂 Aajkal log insta par filter laga-laga ke mujra karte hain… aur tu ekdum simple, mast bachi 😎",
    "2️⃣ Teri simplicity ✨<br>Tu itni simple hai ki maths ke formula se bhi easy lagti hai 😭✍️ (aur tu jaanti hai mujhe maths kitna pasand hai 😂). Simple + real = best combo 💯",
    "3️⃣ Tu soti hui bhi pyari lagti hai 😴💤<br>Soch… koi insaan aise bhi ho sakta hai jo kharrate lete hue bhi cute lage? 😂 Tu ekdum baby jaisi lagti hai jab soti hai 👶💖",
    "4️⃣ Tu ek bachi si hai 👧🍭<br>Mujhe chhote bacche pasand hai, aur tu toh khud hi ek bachi ho 😅 Kabhi candy maangti hai, kabhi nakhre karti hai… full on Cartoon Network character 🤭",
    "5️⃣ Tu hamesha respect karti hai 🙏😇<br>Chahe mazaak kitna bhi karein, tu hamesha limit maintain karti hai. Matlab ek taraf pagalpanti unlimited 🤪 aur dusri taraf izzat full on 🔥.",
    "6️⃣ False expectations nahi deti ❌🤥<br>Main bola tha – “jo dil mein ho, wahi bolna.” Aur tu waise hi karti hai 😍 Matlab mujhe fake hope pe laddoo nahi banati 🤭 (warna main halwai hi ban jaata 😂).",
    "7️⃣ Kyunki tu… tu hai 🫶😌<br>Matlab isse bada reason kya hi ho sakta hai 🤷‍♂️ Tu waise hi perfect hai – no editing, no filter, bas asli tu. ❤️",
    "8️⃣ Tu kabhi-kabhi apna ego side rakh deti hai 😎💖<br>Mujhe lagta hai asli magic tab aata hai jab tu apna stubborn side side pe rakhke sweet ban jaati hai. #QueenWithKindness 👑✨",
    "9️⃣ Tu mujhe hamesha confuse karti hai 🤔😂<br>Kabhi serious, kabhi full masti, kabhi chill, kabhi drama… mujhe kabhi pata hi nahi chalta ki aage kya hone wala hai. Full mystery + fun combo! 🕵️‍♀️🎢",
    "🔟 Tu apni hotness se sabko hilaa deti hai 🔥💖<br>Matlab seriously, teri style, smile aur swag ka combination hi alag level ka hai 😏✨ Chahe tu simple dress pe ho ya mast nakhre kar rahi ho, ek hi glance mein pura vibe change kar deti hai. Aur teri confident attitude ke saath ye hotness aur bhi shine karti hai – matlab full package – cute, smart, funny aur thodi naughty bhi 😝💖 Honestly, aise log rare hote hain, aur tu unme se ek ho jo sab qualities ek saath carry karti hai."
  ];
  let currentReason=0;

  function goPage(id,reasonIndex){
    document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    if(id==='reasons'){currentReason=reasonIndex;showReason();}
  }
  function showReason(){document.getElementById('reasonText').innerHTML=reasons[currentReason];}
  function prevReason(){if(currentReason>0){currentReason--;showReason();}}
  function nextReason(){
    if(currentReason<reasons.length-1){currentReason++;showReason();}
    else startHeartsGame();
  }

  // Hearts game
  let hearts=[],caught=0,timer=15,gameInterval;
  const canvas=document.getElementById('heartCanvas'),ctx=canvas.getContext('2d');
  function startHeartsGame(){
    goPage('heartsGame');
    hearts=[];caught=0;timer=15;
    let basketX=canvas.width/2-25,basketY=canvas.height-30;
    const moveBasket=(e)=>{
      const rect=canvas.getBoundingClientRect();
      const x=(e.touches?e.touches[0].clientX:e.clientX)-rect.left;
      basketX=Math.max(0,Math.min(canvas.width-50,x-25));
    };
    canvas.onmousemove=moveBasket;
    canvas.ontouchmove=(e)=>{e.preventDefault();moveBasket(e);};

    gameInterval=setInterval(()=>{
      ctx.clearRect(0,0,canvas.width,canvas.height);
      if(Math.random()<0.1) hearts.push({x:Math.random()*canvas.width,y:0});
      hearts.forEach(h=>h.y+=3);
      hearts.forEach((h,i)=>{
        ctx.beginPath();ctx.arc(h.x,h.y,10,0,Math.PI*2);ctx.fillStyle='red';ctx.fill();
        if(h.y>basketY && h.x>basketX && h.x<basketX+50){caught++;hearts.splice(i,1);}
      });
      ctx.fillStyle='#000';ctx.fillRect(basketX,basketY,50,10);
      document.getElementById('timer').innerText=`Time: ${timer}s | Hearts: ${caught}`;
    },50);

    let countdown=setInterval(()=>{
      timer--;
      if(timer<=0){
        clearInterval(countdown);clearInterval(gameInterval);
        alert(`⏳ Time up! You caught ${caught} hearts 💖 and Karan is smiling because of you 😍`);
        startPlaneGame();
      }
    },1000);
  }

  // ✈️ Plane game (tap plane to start; flies 🇮🇳 -> 🇺🇸; show messages)
  function startPlaneGame(){
    goPage('planeGame');
    const plane=document.getElementById('planeEmoji');
    const msg=document.getElementById('planeMsg');
    const hint=document.getElementById('planeHint');

    // Reset plane position & state
    plane.style.transition='none';
    plane.style.left='8%';      // near India
    plane.style.top='65%';
    msg.innerHTML='';
    hint.style.opacity='1';

    const beginFlight=()=>{
      hint.style.opacity='0.7';
      msg.innerHTML="🛫 Departing <strong>India 🇮🇳</strong>…";
      // Trigger transition next frame to ensure browser applies initial position
      requestAnimationFrame(()=>{
        requestAnimationFrame(()=>{
          plane.style.transition='left 5s linear';
          plane.style.left='82%'; // fly toward USA flag
        });
      });

      // When flight finishes, show arrival + final message
      const onArrive=()=>{
        plane.removeEventListener('transitionend',onArrive);
        msg.innerHTML=`🛬 Arrived in <strong>USA 🇺🇸</strong>!<br><br>
          <div class='cry'>😭</div>
          <p>No matter how far you are…<br>
          <strong>Karan Babra</strong> is always here in India, waiting for you with open arms ❤️<br>
          Missing you every moment, hoping you’ll be back soon…</p>
          <button onclick="alert('The End (for now 😉)')">The End (for now 😉)</button>`;
      };
      plane.addEventListener('transitionend',onArrive,{once:true});
    };

    // Start on click/tap
    plane.onclick=beginFlight;
    plane.ontouchstart=(e)=>{e.preventDefault();beginFlight();};
  }

  // Shake hearts (device motion)
  if(window.DeviceMotionEvent){
    window.addEventListener('devicemotion',function(e){
      if(Math.abs(e.acceleration.x||0)>15){
        for(let i=0;i<10;i++){
          const heart=document.createElement('div');
          heart.className='floating-heart';
          heart.style.left=Math.random()*window.innerWidth+'px';
          heart.style.top='-20px';heart.textContent='💖';
          document.body.appendChild(heart);
          setTimeout(()=>heart.remove(),2000);
        }
      }
    });
  }
</script>
</body>

</html>
